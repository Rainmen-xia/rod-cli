# 功能规范: [功能名称]

**模块路径**: `specs/modules/[模块路径]/[功能名称]/`
**创建时间**: [日期]
**状态**: 草稿
**输入**: 用户描述: "$ARGUMENTS"

## 执行流程 (主函数)
```
1. 解析输入中的用户描述
   → 如果为空: ERROR "未提供功能描述"
2. 从描述中提取关键概念
   → 识别: 参与者、动作、数据、约束条件
3. 对于每个不明确的方面:
   → 标记为 [需要澄清: 具体问题]
4. 填写用户场景和测试部分
   → 如果没有清晰的用户流程: ERROR "无法确定用户场景"
5. 生成功能需求
   → 每个需求必须可测试
   → 标记模糊的需求
6. 识别关键实体(如果涉及数据)
7. 运行审核检查清单
   → 如果有任何[需要澄清]: WARN "规范存在不确定性"
   → 如果发现实现细节: ERROR "移除技术细节"
8. 返回: SUCCESS (规范已准备好进行规划)
```

---

## ⚡ 快速指南
- ✅ 专注于用户需要什么以及为什么需要
- ❌ 避免如何实现(没有技术栈、API、代码结构)
- 👥 为业务相关方而不是开发人员编写

### 章节要求
- **必填章节**: 每个功能都必须完成
- **可选章节**: 仅在与功能相关时包含
- 当某个章节不适用时，完全删除它(不要留作"不适用")

### AI生成指南
从用户提示创建此规范时:
1. **标记所有歧义**: 对任何需要假设的地方使用[需要澄清: 具体问题]
2. **不要猜测**: 如果提示没有指定某些内容(例如，没有认证方法的"登录系统")，请标记出来
3. **像测试人员一样思考**: 每个模糊的需求都应该在"可测试且明确"的检查项中失败
4. **常见未明确指定的领域**:
   - 用户类型和权限
   - 数据保留/删除策略
   - 性能目标和规模
   - 错误处理行为
   - 集成要求
   - 安全/合规需求

---

## 用户场景和测试 *(必填)*

### 主要用户故事
[用简单语言描述主要用户旅程]

### 验收场景
1. **给定** [初始状态], **当** [操作], **那么** [预期结果]
2. **给定** [初始状态], **当** [操作], **那么** [预期结果]

### 边界情况
- 当[边界条件]时会发生什么？
- 系统如何处理[错误场景]？

## 需求 *(必填)*

### 功能需求
- **FR-001**: 系统必须[具体能力，例如"允许用户创建账户"]
- **FR-002**: 系统必须[具体能力，例如"验证电子邮件地址"]
- **FR-003**: 用户必须能够[关键交互，例如"重置密码"]
- **FR-004**: 系统必须[数据需求，例如"持久化用户偏好"]
- **FR-005**: 系统必须[行为，例如"记录所有安全事件"]

*标记不明确需求的示例:*
- **FR-006**: 系统必须通过[需要澄清: 未指定认证方法 - 邮箱/密码、SSO、OAuth?]对用户进行身份验证
- **FR-007**: 系统必须保留用户数据[需要澄清: 未指定保留期]

### 关键实体 *(如果功能涉及数据则包含)*
- **[实体1]**: [它代表什么，关键属性但不包含实现]
- **[实体2]**: [它代表什么，与其他实体的关系]

### 模块依赖 *(如果功能需要跨模块协作则包含)*
- **依赖模块**: [模块名称] - [依赖原因和用途]
- **接口需求**: [需要的接口功能描述]
- **数据交换**: [共享的数据结构和交换格式]
- **集成点**: [与其他模块的集成点说明]

---

## 审核和验收检查清单
*门禁: 在主函数执行期间运行的自动检查*

### 内容质量
- [ ] 无实现细节(语言、框架、API)
- [ ] 专注于用户价值和业务需求
- [ ] 为非技术相关方编写
- [ ] 所有必填章节已完成

### 需求完整性
- [ ] 不再有[需要澄清]标记
- [ ] 需求可测试且明确
- [ ] 成功标准可衡量
- [ ] 范围边界清晰
- [ ] 依赖关系和假设已识别

---

## 执行状态
*在处理过程中由主函数更新*

- [ ] 用户描述已解析
- [ ] 关键概念已提取
- [ ] 歧义已标记
- [ ] 用户场景已定义
- [ ] 需求已生成
- [ ] 实体已识别
- [ ] 审核检查清单已通过

## 模块进度状态
*由后续阶段更新，用于项目整体进度跟踪*

- [ ] 📋 需求规范完成 (spec.md)
- [ ] 🎯 技术设计完成 (plan.md + 设计文档)
- [ ] ⚡ 开发任务完成 (tasks.md执行)
- [ ] 🔗 模块集成完成 (跨模块测试)
- [ ] 📊 进度同步完成 (/progress)

**模块完成度**: 0% (需求规范阶段)

---