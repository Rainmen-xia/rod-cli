# ROD CLI 模板格式规范

## 概述

ROD CLI 模板系统为规范驱动开发提供标准化的项目初始化支持。本文档定义了模板的组织结构、文件格式和命名约定。

## 模板目录结构

所有模板必须遵循以下标准目录结构：

```
templates/
├── commands/              # AI 助手命令模板（必需）
│   ├── *.md              # 命令定义文件
├── memory/               # 项目宪法和记忆文件（可选）
│   └── constitution.md   # 项目开发原则
├── scripts/              # 自动化脚本（可选）
│   ├── bash/            # Bash 脚本
│   └── powershell/      # PowerShell 脚本
├── *.md                  # 模板文档文件
└── README.md             # 模板说明
```

## 命令文件格式规范

### 1. 文件命名
- 所有命令文件使用 `.md` 扩展名
- 文件名应简洁明了，反映命令的主要功能
- 使用小写字母和连字符分隔，如 `module.md`, `specify.md`

### 2. 文件结构
每个命令文件必须包含以下部分：

#### Front Matter（必需）
```yaml
---
description: 命令的简短描述，说明其主要功能
scripts:
  sh: .specify/scripts/bash/script-name.sh --json "{ARGS}"
  ps: .specify/scripts/powershell/script-name.ps1 -Json "{ARGS}"
---
```

#### 命令说明（必需）
- 简要介绍命令的用途和价值
- 使用清晰的中文描述

#### 用法示例（推荐）
```markdown
**用法示例：**
- `/command arg1` - 单个参数示例
- `/command arg1 arg2` - 多个参数示例
```

#### 执行步骤（必需）
```markdown
**执行步骤：**
1. 步骤一的详细描述
2. 步骤二的详细描述
3. 输出结果和下一步指导
```

#### 下一步指导（推荐）
```markdown
**下一步：**
指导用户执行后续命令或操作
```

### 3. 脚本引用规范
- 脚本路径使用相对路径 `.specify/scripts/`
- 支持 Bash (`sh`) 和 PowerShell (`ps`) 两种脚本
- 参数传递使用 `"{ARGS}"` 占位符
- 保持跨平台兼容性

## 模板文档规范

### 1. 文档类型
- `spec-template.md` - 功能规范模板
- `plan-template.md` - 技术设计模板
- `tasks-template.md` - 任务规划模板
- `roadmap-template.md` - 路线图模板

### 2. 模板特征
- 使用占位符 `[占位符名称]` 标记需要填充的内容
- 包含完整的章节结构和格式示例
- 提供填写指导和最佳实践说明
- 支持 EARS（易于评审、可实现、明确、相关、可测试）格式

### 3. 元数据要求
模板文档应包含：
- 创建时间和状态标记
- 输入参数说明
- 执行流程指导
- 质量检查清单

## 项目宪法规范

### constitution.md 结构
```markdown
# 项目宪法 (Project Constitution)

## 核心原则
- 规范驱动开发
- 测试驱动开发
- 模块化架构
- 增量开发
- 简洁性原则

## 质量门禁
- 设计阶段检查点
- 实现阶段检查点
- 集成阶段检查点

## 开发流程约束
- 五步工作流程
- 文档要求
- 代码提交规范

## 技术约束
- 依赖管理
- 性能要求
- 安全考虑

## 项目特定约束
根据项目特点定制的约束条件

## 治理规则
- 宪法优先级
- 修正流程
- 质量保证
```
