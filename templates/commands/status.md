---
description: 显示当前模块的完成进度和状态信息
scripts:
  sh: .specify/scripts/bash/check-module-status.sh --json
  ps: .specify/scripts/powershell/check-module-status.ps1 -Json
---

检查并显示当前模块在5步开发流程中的完成状态，提供清晰的进度概览和下一步建议。

执行步骤：

1. 运行 `{SCRIPT}` 获取当前模块路径和状态信息
2. 检查当前所在目录是否为有效的模块目录
3. 如果不在模块目录中，提示用户导航到模块目录或使用 `/module` 命令
4. 分析当前模块的5个阶段完成状态：

**阶段检查**：
- **📋 模块创建**：检查模块目录结构是否完整
- **📝 需求分析**：检查 spec.md 是否存在且有实质内容
- **🏗️ 技术设计**：检查 design.md 是否存在且已完成
- **📋 任务规划**：检查 todo.md 是否存在且任务清单已创建
- **🔄 进度同步**：检查最近的同步状态和路线图更新

5. 生成状态报告：
```markdown
## 模块状态报告 - [模块路径]

### 📊 总体进度: [百分比]%

### 🔍 阶段详情:
- ✅ 模块创建: 已完成
- ✅ 需求分析: 已完成 (spec.md 已批准)
- ✅ 技术设计: 已完成 (design.md 已批准)
- 🔄 任务规划: 进行中 (todo.md 存在，包含 N 个任务)
- ⏳ 进度同步: 待执行

### 📈 任务完成情况:
- 总任务数: [N]
- 已完成: [M]
- 进行中: [P]
- 待开始: [Q]

### 🔔 下一步建议:
[基于当前状态提供具体的下一步操作建议]
```

6. 检查子模块状态（如果存在）：
   - 扫描 modules/ 目录
   - 显示子模块的整体完成情况
   - 提供子模块状态概览

7. 提供问题识别和风险告警：
   - 检测长时间未更新的文件
   - 识别可能的阻塞点
   - 提示需要关注的依赖问题

8. 生成可操作的建议：
   - 如果某个阶段未完成，提供对应的命令建议
   - 如果发现问题，提供解决方案建议
   - 如果进度正常，提供继续推进的建议

**状态定义标准**：
- **已完成** ✅：文件存在且包含完整内容
- **进行中** 🔄：文件存在但可能未完成或需要更新
- **待开始** ⏳：文件不存在或为空
- **有问题** ❌：文件损坏或格式错误
- **需要关注** ⚠️：长时间未更新或存在潜在问题

**完成状态检查后提供建议：**

**✅ 状态检查完成！**

**基于当前状态的建议：**
[根据检查结果动态生成具体的下一步操作建议]

使用绝对路径进行所有文件操作，确保状态检查的准确性。