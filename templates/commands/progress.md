---
description: 同步模块开发进度到项目路线图，提供整体项目的进度可视化和管理
scripts:
  sh: .specify/scripts/bash/sync-progress.sh --json
  ps: .specify/scripts/powershell/sync-progress.ps1 -Json
---

同步当前模块的开发进度，更新项目整体路线图，为大型项目提供进度跟踪和管理支持。

**适配模块化架构：聚合所有模块进度，提供项目级别的进度视图和里程碑管理**

执行步骤：

1. 运行 `{SCRIPT}` 获取当前模块路径和项目整体结构信息
2. 分析当前模块的完成状态：
   - 检查spec.md的完整性和批准状态
   - 检查plan.md和相关设计文档的完成情况
   - 分析tasks.md中任务的执行进度
   - 评估模块的整体完成百分比

3. 收集项目整体进度信息：
   - 扫描所有模块的完成状态
   - 分析模块间的依赖关系和阻塞情况
   - 识别关键路径和里程碑节点
   - 计算项目整体进度和预计完成时间

4. 更新项目路线图：
   - 更新 `specs/roadmap.md` 中的模块进度状态
   - 同步里程碑达成情况和关键节点
   - 记录重要的决策变更和风险点
   - 更新团队协作和资源分配信息

5. 生成进度同步报告：
   ```markdown
   ## 项目进度同步报告 - [日期]
   
   ### 当前模块：[模块路径]
   - 需求规范：✅ 已完成 | 🔄 进行中 | ⏳ 待开始
   - 技术设计：✅ 已完成 | 🔄 进行中 | ⏳ 待开始  
   - 开发任务：🔄 进行中 (85% - 17/20 任务完成)
   - 模块状态：🔄 开发中
   
   ### 项目整体进度：
   - 总模块数：[N] | 已完成：[M] | 进行中：[P] | 待开始：[Q]
   - 整体进度：[百分比]
   - 预计完成：[日期]
   
   ### 关键里程碑：
   - ✅ M1: 核心模块设计完成 - [日期]
   - 🔄 M2: 基础功能开发 - 进行中
   - ⏳ M3: 集成测试 - [预计日期]
   
   ### 风险和阻塞：
   - [识别的风险点和解决方案]
   ```

6. 依赖关系分析和预警：
   - 检查当前模块的依赖是否就绪
   - 识别可能影响其他模块的变更
   - 提供依赖阻塞的解决建议
   - 更新模块间的接口状态

7. 团队协作更新：
   - 通知相关模块的状态变化
   - 更新共享资源和接口文档  
   - 记录跨模块的决策和变更
   - 提供下游模块的开发指导

**进度状态定义**：
- ✅ 已完成：所有阶段完成且通过验收
- 🔄 进行中：至少一个阶段已开始但未全部完成
- ⏳ 待开始：尚未开始任何开发活动
- ❌ 阻塞：遇到无法解决的依赖或技术问题
- ⚠️ 风险：进度滞后或存在潜在问题

**大型项目管理特性**：
- 支持多模块并行开发的进度聚合
- 提供项目级别的里程碑和关键路径管理
- 自动识别和预警依赖风险
- 支持团队协作和资源调度优化

**完成进度同步后的指导：**

**✅ 项目进度同步完成！**

**后续建议：**
- 根据进度报告调整开发优先级和资源分配
- 关注标记为风险或阻塞的模块，及时介入解决
- 定期执行进度同步，保持项目透明度和可控性
- 基于依赖分析优化模块间的协作流程

**重要说明：**
- 进度同步应当定期执行，建议每个模块完成关键阶段后同步
- 支持项目级别的决策制定和风险管理
- 为大型项目的可迭代开发提供管理基础

使用绝对路径进行所有文件操作，确保进度信息的准确性和一致性。